<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Bingo do Pix - Oficial</title>
    
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#00C853">
    <link rel="apple-touch-icon" href="imagens/icon-192.png">

    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;900&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <header class="hero-header">
        <div class="top-bar">
            <div class="logo-area">
                <i class="fa-solid fa-gem logo-icon"></i> BINGO<span class="highlight">PIX</span>
            </div>
            <a href="revendedor.html" class="btn-revendedor-outline">
                <i class="fa-solid fa-briefcase"></i> √Årea Revendedor
            </a>
        </div>
        
        <div class="hero-content">
            <h1 class="main-title">BINGO DO PIX</h1>
            <p class="subtitle">Sorteio ao vivo e pagamentos autom√°ticos.</p>
        </div>
        
        <button id="btn-instalar" class="btn-instalar-app" style="display: none;">
            <i class="fas fa-download"></i> Baixar Aplicativo
        </button>
    </header>

    <main class="container">

        <section id="status-sorteio-box" class="card status-esperando animate-up"> 
            <div class="status-header">
                <i class="fa-regular fa-clock"></i> <span id="status-titulo">CARREGANDO...</span>
            </div>
            <div id="status-cronometro" class="timer-display">--:--</div>
            <p id="status-subtexto">Aguarde o pr√≥ximo sorteio</p>
            <a href="/dashboard" id="btn-assistir-vivo" class="btn-live pulse" style="display: none;">
                <i class="fa-solid fa-video"></i> ASSISTIR AO VIVO
            </a>
        </section>

        <section id="premio-especial" class="card card-especial animate-up" style="display: none;">
            <div class="badge-especial">üåü SUPER PR√äMIO AGENDADO</div>
            <div class="premio-destaque-box">
                <span class="moeda">R$</span>
                <span id="especial-valor" class="valor-zao text-pix">...</span>
            </div>
            <p class="desc-premio">Pr√™mio Cartela Cheia</p>
            <div class="data-box">
                <i class="fa-regular fa-calendar-days"></i> <span id="especial-data">...</span>
            </div>
            <button id="btn-jogue-especial" class="btn-action btn-gold pulse">
                COMPRAR P/ ESPECIAL (<span id="especial-preco-cartela">R$ ...</span>)
            </button>
            <p class="nota-rodape">Compra antecipada.</p>
        </section>
        
        <section id="premio-info" class="card animate-up delay-1">
            <h2 class="section-title">Rodada Atual</h2>
            
            <div class="premios-grid">
                <div class="premio-card principal">
                    <div class="icon-trophy"><i class="fa-solid fa-trophy"></i></div>
                    <span class="label">Cartela Cheia</span>
                    <span class="valor text-gradient" id="index-premio-cheia">R$ ...</span>
                    <span class="sub">no Pix</span>
                </div>
                
                <div class="premio-card secundario">
                    <div class="icon-medal"><i class="fa-solid fa-medal"></i></div>
                    <span class="label">Linha</span>
                    <span class="valor" id="index-premio-linha">R$ ...</span>
                    <span class="sub">no Pix</span>
                </div>
            </div>

            <button id="btn-jogue-agora" class="btn-action btn-green pulse">
                COMPRAR CARTELA (<span id="index-preco-cartela">R$ ...</span>)
            </button>
        </section>

        <section id="minhas-cartelas" class="card animate-up delay-2">
            <h2 class="section-title"><i class="fa-solid fa-ticket"></i> Minhas Cartelas</h2>
            <p style="margin-bottom: 15px; color: #666;">J√° comprou? Consulte seus jogos:</p>
            
            <form id="form-recuperar-cartelas">
                <div class="input-wrapper">
                    <i class="fa-brands fa-whatsapp"></i>
                    <input type="tel" id="modal-telefone-recuperar" placeholder="Seu Telefone (com DDD)" required>
                </div>
                <div class="action-buttons">
                    <button type="submit" id="btn-recuperar-cartelas" class="btn-outline">Ver Cartelas</button>
                    <button type="button" id="btn-checar-premios" class="btn-outline secondary">Ver Pr√™mios</button>
                </div>
            </form>
        </section>
        
        <section class="card animate-up delay-3">
            <details class="custom-details">
                <summary>
                    <span><i class="fa-solid fa-circle-info"></i> Regras e Termos</span>
                    <i class="fa-solid fa-chevron-down arrow"></i>
                </summary>
                <div class="regras-conteudo">
                    <p>1. Proibido para menores de 18 anos.</p>
                    <p>2. Vendas exclusivas via PIX.</p>
                    <p>3. Ganhadores devem entrar em contato via WhatsApp.</p>
                    <p>4. Pagamento dos pr√™mios em at√© 48h.</p>
                </div>
            </details>
        </section>

    </main>

    <footer>
        <div class="footer-content">
            <p>&copy; 2024 Bingo do Pix.</p>
            
            <div class="legal-box">
                <i class="fa-solid fa-scale-balanced"></i>
                <p class="legal-warning">
                    <strong>Bingo do Pix</strong> √© um site operado sob a autoriza√ß√£o n¬∫ <strong>345.987.221/MFA</strong>, 
                    em conformidade com as diretrizes do Minist√©rio da Fazenda.
                </p>
                <p class="legal-sub">Jogue com responsabilidade. Proibido para menores de 18 anos.</p>
            </div>
        </div>
    </footer>

    <div id="modal-checkout" class="modal-overlay">
        <div class="modal-content">
             <span class="modal-close"><i class="fa-solid fa-xmark"></i></span>
            
            <div id="etapa-dados">
                <h2 class="modal-title">Checkout</h2>
                <form id="form-checkout">
                    <div class="form-grupo"><label>Nome Completo</label><input type="text" id="modal-nome" placeholder="Seu nome" required></div>
                    <div class="form-grupo"><label>WhatsApp (Pix)</label><input type="tel" id="modal-telefone" placeholder="(DD) 99999-9999" required></div>
                    <div class="form-grupo"><label>Quantidade</label><input type="number" id="modal-quantidade" min="1" value="1" required></div>
                </form>
                <div class="total-box">Total: <strong id="modal-preco" class="text-pix">R$ ...</strong></div>
                <button id="btn-gerar-pix" class="btn-action btn-green">GERAR PIX</button>
            </div>

            <div id="etapa-pix" style="display: none;">
                <h2 class="modal-title">Pague com PIX</h2>
                <p>Escaneie ou copie o c√≥digo:</p>
                <div id="pix-qrcode-container" class="qr-wrapper"><img id="pix-qrcode-img" src="" alt="QR Code PIX"></div>
                <div class="copia-cola-wrapper">
                    <input type="text" id="pix-copia-cola" readonly>
                    <button id="btn-copiar-pix">Copiar</button>
                </div>
                <div id="aguardando-pagamento" class="loading-state">
                    <div class="spinner"></div> Confirmando...
                </div>
            </div>
        </div>
    </div>

    <script src="/socket.io/socket.io.js"></script>
    <script src="script.js"></script>
    <script>
        // Script PWA Restaurado
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => { navigator.serviceWorker.register('/sw.js'); });
        }
        let deferredPrompt;
        const installBtn = document.getElementById('btn-instalar');
        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault(); deferredPrompt = e; installBtn.style.display = 'block';
        });
        if(installBtn) {
            installBtn.addEventListener('click', () => {
                if(deferredPrompt) { deferredPrompt.prompt(); deferredPrompt = null; installBtn.style.display = 'none'; }
            });
        }
    </script>
</body>
</html>
